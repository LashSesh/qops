import{s as Oe,n as de,r as Ue}from"../chunks/t7hwNuoe.js";import{S as Le,i as He,d as _,k as ve,r as _e,u as ue,l as h,a as L,b as n,p as le,c as b,e as y,m as W,g as x,f as T,h as p,j as P,t as A,q as fe,s as K,v as me,w as Ie}from"../chunks/knXiOFn4.js";import{e as $}from"../chunks/D6YF6ztN.js";import{i as he}from"../chunks/DlQNAQKj.js";function ye(l,e,t){const s=l.slice();return s[16]=e[t][0],s[17]=e[t][1],s}function De(l,e,t){const s=l.slice();return s[20]=e[t],s[22]=t,s}function qe(l,e,t){const s=l.slice();return s[23]=e[t],s[25]=t,s}function Ve(l,e,t){const s=l.slice();return s[23]=e[t],s}function Ne(l){let e,t,s,a;return{c(){e=p("button"),t=A("Simulate"),this.h()},l(r){e=b(r,"BUTTON",{class:!0});var i=y(e);t=T(i,"Simulate"),i.forEach(_),this.h()},h(){h(e,"class","btn-accent"),e.disabled=l[5]},m(r,i){L(r,e,i),n(e,t),s||(a=le(e,"click",l[11]),s=!0)},p(r,i){i&32&&(e.disabled=r[5])},d(r){r&&_(e),s=!1,a()}}}function Se(l){let e,t=l[23].label+"",s,a,r,i;function u(){return l[13](l[23])}return{c(){e=p("button"),s=A(t),a=P(),this.h()},l(f){e=b(f,"BUTTON",{class:!0});var d=y(e);s=T(d,t),a=x(d),d.forEach(_),this.h()},h(){h(e,"class","h-12 rounded-lg flex items-center justify-center font-mono font-bold text-white transition-all "+l[23].color),fe(e,"ring-2",l[3]===l[23].id),fe(e,"ring-white",l[3]===l[23].id)},m(f,d){L(f,e,d),n(e,s),n(e,a),r||(i=le(e,"click",u),r=!0)},p(f,d){l=f,d&136&&fe(e,"ring-2",l[3]===l[23].id),d&136&&fe(e,"ring-white",l[3]===l[23].id)},d(f){f&&_(e),r=!1,i()}}}function Te(l){let e,t,s,a;return{c(){e=p("button"),t=A("Add Gate"),this.h()},l(r){e=b(r,"BUTTON",{class:!0});var i=y(e);t=T(i,"Add Gate"),i.forEach(_),this.h()},h(){h(e,"class","btn-primary w-full mt-4"),e.disabled=l[5]},m(r,i){L(r,e,i),n(e,t),s||(a=le(e,"click",l[9]),s=!0)},p(r,i){i&32&&(e.disabled=r[5])},d(r){r&&_(e),s=!1,a()}}}function Ae(l){let e,t;return{c(){e=p("div"),t=A(l[6]),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);t=T(a,l[6]),a.forEach(_),this.h()},h(){h(e,"class","bg-quantum-error/20 border border-quantum-error text-quantum-error p-4 rounded-lg mb-4")},m(s,a){L(s,e,a),n(e,t)},p(s,a){a&64&&K(t,s[6])},d(s){s&&_(e)}}}function Qe(l){let e,t='Click "New Circuit" to start building';return{c(){e=p("div"),e.textContent=t,this.h()},l(s){e=b(s,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-c8y0j2"&&(e.textContent=t),this.h()},h(){h(e,"class","flex items-center justify-center h-full text-slate-400")},m(s,a){L(s,e,a)},p:de,d(s){s&&_(e)}}}function ze(l){let e,t,s,a=l[1].name+"",r,i,u,f,d=l[1].qubits+"",w,c,m=l[1].depth+"",o,C,D=l[1].gate_count+"",v,E,I,q,R,X=$(Array(l[1].qubits)),V=[];for(let g=0;g<X.length;g+=1)V[g]=Pe(De(l,X,g));let B=l[2]&&je(l);return{c(){e=p("div"),t=p("div"),s=p("h2"),r=A(a),i=P(),u=p("div"),f=A("Qubits: "),w=A(d),c=A(" | Depth: "),o=A(m),C=A(" | Gates: "),v=A(D),E=P(),I=p("div");for(let g=0;g<V.length;g+=1)V[g].c();q=P(),B&&B.c(),R=me(),this.h()},l(g){e=b(g,"DIV",{class:!0});var N=y(e);t=b(N,"DIV",{class:!0});var S=y(t);s=b(S,"H2",{class:!0});var Z=y(s);r=T(Z,a),Z.forEach(_),i=x(S),u=b(S,"DIV",{class:!0});var G=y(u);f=T(G,"Qubits: "),w=T(G,d),c=T(G," | Depth: "),o=T(G,m),C=T(G," | Gates: "),v=T(G,D),G.forEach(_),S.forEach(_),E=x(N),I=b(N,"DIV",{class:!0});var ee=y(I);for(let te=0;te<V.length;te+=1)V[te].l(ee);ee.forEach(_),N.forEach(_),q=x(g),B&&B.l(g),R=me(),this.h()},h(){h(s,"class","font-semibold text-white"),h(u,"class","text-sm text-slate-400"),h(t,"class","flex items-center justify-between mb-4"),h(I,"class","bg-surface-900 rounded-lg p-4 font-mono text-sm overflow-x-auto"),h(e,"class","card mb-4")},m(g,N){L(g,e,N),n(e,t),n(t,s),n(s,r),n(t,i),n(t,u),n(u,f),n(u,w),n(u,c),n(u,o),n(u,C),n(u,v),n(e,E),n(e,I);for(let S=0;S<V.length;S+=1)V[S]&&V[S].m(I,null);L(g,q,N),B&&B.m(g,N),L(g,R,N)},p(g,N){if(N&2&&a!==(a=g[1].name+"")&&K(r,a),N&2&&d!==(d=g[1].qubits+"")&&K(w,d),N&2&&m!==(m=g[1].depth+"")&&K(o,m),N&2&&D!==(D=g[1].gate_count+"")&&K(v,D),N&1026){X=$(Array(g[1].qubits));let S;for(S=0;S<X.length;S+=1){const Z=De(g,X,S);V[S]?V[S].p(Z,N):(V[S]=Pe(Z),V[S].c(),V[S].m(I,null))}for(;S<V.length;S+=1)V[S].d(1);V.length=X.length}g[2]?B?B.p(g,N):(B=je(g),B.c(),B.m(R.parentNode,R)):B&&(B.d(1),B=null)},d(g){g&&(_(e),_(q),_(R)),ve(V,g),B&&B.d(g)}}}function Re(l){let e,t="------";return{c(){e=p("span"),e.textContent=t,this.h()},l(s){e=b(s,"SPAN",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-q6fiy7"&&(e.textContent=t),this.h()},h(){h(e,"class","text-slate-600")},m(s,a){L(s,e,a)},p:de,d(s){s&&_(e)}}}function Fe(l){let e,t=l[23].name+"",s,a,r,i,u="--",f,d;function w(){return l[15](l[25])}return{c(){e=p("button"),s=A(t),r=P(),i=p("span"),i.textContent=u,this.h()},l(c){e=b(c,"BUTTON",{class:!0,title:!0});var m=y(e);s=T(m,t),m.forEach(_),r=x(c),i=b(c,"SPAN",{class:!0,"data-svelte-h":!0}),W(i)!=="svelte-1d69yrv"&&(i.textContent=u),this.h()},h(){h(e,"class",a="px-2 py-1 rounded text-white text-xs mx-1 hover:opacity-80 gate-"+l[23].name.toLowerCase().replace(/[^a-z]/g,"")),h(e,"title","Click to remove"),h(i,"class","text-slate-600")},m(c,m){L(c,e,m),n(e,s),L(c,r,m),L(c,i,m),f||(d=le(e,"click",w),f=!0)},p(c,m){l=c,m&2&&t!==(t=l[23].name+"")&&K(s,t),m&2&&a!==(a="px-2 py-1 rounded text-white text-xs mx-1 hover:opacity-80 gate-"+l[23].name.toLowerCase().replace(/[^a-z]/g,""))&&h(e,"class",a)},d(c){c&&(_(e),_(r),_(i)),f=!1,d()}}}function xe(l){let e,t;function s(i,u){return u&2&&(e=null),e==null&&(e=!!i[23].qubits.includes(i[22])),e?Fe:Re}let a=s(l,-1),r=a(l);return{c(){r.c(),t=me()},l(i){r.l(i),t=me()},m(i,u){r.m(i,u),L(i,t,u)},p(i,u){a===(a=s(i,u))&&r?r.p(i,u):(r.d(1),r=a(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){i&&_(t),r.d(i)}}}function Pe(l){let e,t,s,a,r,i,u,f,d="|0>--",w,c,m=$(l[1].gates),o=[];for(let C=0;C<m.length;C+=1)o[C]=xe(qe(l,m,C));return{c(){e=p("div"),t=p("span"),s=A("q"),a=A(l[22]),r=A(":"),i=P(),u=p("div"),f=p("span"),f.textContent=d,w=P();for(let C=0;C<o.length;C+=1)o[C].c();c=P(),this.h()},l(C){e=b(C,"DIV",{class:!0});var D=y(e);t=b(D,"SPAN",{class:!0});var v=y(t);s=T(v,"q"),a=T(v,l[22]),r=T(v,":"),v.forEach(_),i=x(D),u=b(D,"DIV",{class:!0});var E=y(u);f=b(E,"SPAN",{class:!0,"data-svelte-h":!0}),W(f)!=="svelte-hk0sv9"&&(f.textContent=d),w=x(E);for(let I=0;I<o.length;I+=1)o[I].l(E);E.forEach(_),c=x(D),D.forEach(_),this.h()},h(){h(t,"class","text-slate-400 w-8"),h(f,"class","text-slate-600"),h(u,"class","flex items-center"),h(e,"class","flex items-center gap-2 mb-2")},m(C,D){L(C,e,D),n(e,t),n(t,s),n(t,a),n(t,r),n(e,i),n(e,u),n(u,f),n(u,w);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(u,null);n(e,c)},p(C,D){if(D&1026){m=$(C[1].gates);let v;for(v=0;v<m.length;v+=1){const E=qe(C,m,v);o[v]?o[v].p(E,D):(o[v]=xe(E),o[v].c(),o[v].m(u,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=m.length}},d(C){C&&_(e),ve(o,C)}}}function je(l){let e,t,s,a=l[2].shots+"",r,i,u,f,d=$(Object.entries(l[2].counts).sort(Ge).slice(0,10)),w=[];for(let c=0;c<d.length;c+=1)w[c]=Be(ye(l,d,c));return{c(){e=p("div"),t=p("h3"),s=A("Simulation Results ("),r=A(a),i=A(" shots)"),u=P(),f=p("div");for(let c=0;c<w.length;c+=1)w[c].c();this.h()},l(c){e=b(c,"DIV",{class:!0});var m=y(e);t=b(m,"H3",{class:!0});var o=y(t);s=T(o,"Simulation Results ("),r=T(o,a),i=T(o," shots)"),o.forEach(_),u=x(m),f=b(m,"DIV",{class:!0});var C=y(f);for(let D=0;D<w.length;D+=1)w[D].l(C);C.forEach(_),m.forEach(_),this.h()},h(){h(t,"class","font-semibold text-white mb-4"),h(f,"class","space-y-2"),h(e,"class","card")},m(c,m){L(c,e,m),n(e,t),n(t,s),n(t,r),n(t,i),n(e,u),n(e,f);for(let o=0;o<w.length;o+=1)w[o]&&w[o].m(f,null)},p(c,m){if(m&4&&a!==(a=c[2].shots+"")&&K(r,a),m&4){d=$(Object.entries(c[2].counts).sort(Ge).slice(0,10));let o;for(o=0;o<d.length;o+=1){const C=ye(c,d,o);w[o]?w[o].p(C,m):(w[o]=Be(C),w[o].c(),w[o].m(f,null))}for(;o<w.length;o+=1)w[o].d(1);w.length=d.length}},d(c){c&&_(e),ve(w,c)}}}function Be(l){let e,t,s,a=l[16]+"",r,i,u,f,d,w,c,m=(l[17]/l[2].shots*100).toFixed(1)+"",o,C,D;return{c(){e=p("div"),t=p("span"),s=A("|"),r=A(a),i=A(">"),u=P(),f=p("div"),d=p("div"),w=P(),c=p("span"),o=A(m),C=A("%"),D=P(),this.h()},l(v){e=b(v,"DIV",{class:!0});var E=y(e);t=b(E,"SPAN",{class:!0});var I=y(t);s=T(I,"|"),r=T(I,a),i=T(I,">"),I.forEach(_),u=x(E),f=b(E,"DIV",{class:!0});var q=y(f);d=b(q,"DIV",{class:!0,style:!0}),y(d).forEach(_),q.forEach(_),w=x(E),c=b(E,"SPAN",{class:!0});var R=y(c);o=T(R,m),C=T(R,"%"),R.forEach(_),D=x(E),E.forEach(_),this.h()},h(){h(t,"class","font-mono text-slate-300 w-24"),h(d,"class","h-full bg-quantum-primary"),Ie(d,"width",l[17]/l[2].shots*100+"%"),h(f,"class","flex-1 h-6 bg-surface-700 rounded overflow-hidden"),h(c,"class","text-slate-400 text-sm w-20 text-right"),h(e,"class","flex items-center gap-4")},m(v,E){L(v,e,E),n(e,t),n(t,s),n(t,r),n(t,i),n(e,u),n(e,f),n(f,d),n(e,w),n(e,c),n(c,o),n(c,C),n(e,D)},p(v,E){E&4&&a!==(a=v[16]+"")&&K(r,a),E&4&&Ie(d,"width",v[17]/v[2].shots*100+"%"),E&4&&m!==(m=(v[17]/v[2].shots*100).toFixed(1)+"")&&K(o,m)},d(v){v&&_(e)}}}function Xe(l){let e,t,s,a="Circuit Builder",r,i,u,f,d="Qubits:",w,c,m,o,C,D,v,E,I,q,R="Gates",X,V,B,g,N,S="Target Qubit:",Z,G,ee,te,be,Y,ie,pe,ke,H=l[1]&&Ne(l),se=$(l[7]),U=[];for(let k=0;k<se.length;k+=1)U[k]=Se(Ve(l,se,k));let Q=l[1]&&Te(l),z=l[6]&&Ae(l);function we(k,O){return k[1]?ze:Qe}let ne=we(l),F=ne(l);return{c(){e=p("div"),t=p("div"),s=p("h1"),s.textContent=a,r=P(),i=p("div"),u=p("div"),f=p("label"),f.textContent=d,w=P(),c=p("input"),m=P(),o=p("button"),C=A("New Circuit"),D=P(),H&&H.c(),v=P(),E=p("div"),I=p("div"),q=p("h3"),q.textContent=R,X=P(),V=p("div");for(let k=0;k<U.length;k+=1)U[k].c();B=P(),g=p("div"),N=p("label"),N.textContent=S,Z=P(),G=p("input"),te=P(),Q&&Q.c(),be=P(),Y=p("div"),z&&z.c(),ie=P(),F.c(),this.h()},l(k){e=b(k,"DIV",{class:!0});var O=y(e);t=b(O,"DIV",{class:!0});var j=y(t);s=b(j,"H1",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-1aqcsb"&&(s.textContent=a),r=x(j),i=b(j,"DIV",{class:!0});var J=y(i);u=b(J,"DIV",{class:!0});var ae=y(u);f=b(ae,"LABEL",{class:!0,"data-svelte-h":!0}),W(f)!=="svelte-dqu6kt"&&(f.textContent=d),w=x(ae),c=b(ae,"INPUT",{type:!0,min:!0,max:!0,class:!0}),ae.forEach(_),m=x(J),o=b(J,"BUTTON",{class:!0});var Ce=y(o);C=T(Ce,"New Circuit"),Ce.forEach(_),D=x(J),H&&H.l(J),J.forEach(_),j.forEach(_),v=x(O),E=b(O,"DIV",{class:!0});var re=y(E);I=b(re,"DIV",{class:!0});var M=y(I);q=b(M,"H3",{class:!0,"data-svelte-h":!0}),W(q)!=="svelte-12widhb"&&(q.textContent=R),X=x(M),V=b(M,"DIV",{class:!0});var Ee=y(V);for(let ge=0;ge<U.length;ge+=1)U[ge].l(Ee);Ee.forEach(_),B=x(M),g=b(M,"DIV",{class:!0});var oe=y(g);N=b(oe,"LABEL",{class:!0,"data-svelte-h":!0}),W(N)!=="svelte-hf4n46"&&(N.textContent=S),Z=x(oe),G=b(oe,"INPUT",{type:!0,min:!0,max:!0,class:!0}),oe.forEach(_),te=x(M),Q&&Q.l(M),M.forEach(_),be=x(re),Y=b(re,"DIV",{class:!0});var ce=y(Y);z&&z.l(ce),ie=x(ce),F.l(ce),ce.forEach(_),re.forEach(_),O.forEach(_),this.h()},h(){h(s,"class","text-xl font-bold text-white"),h(f,"class","text-slate-400 text-sm"),h(c,"type","number"),h(c,"min","1"),h(c,"max","10"),h(c,"class","input w-20"),h(u,"class","flex items-center gap-2"),h(o,"class","btn-primary"),o.disabled=l[5],h(i,"class","flex items-center gap-4"),h(t,"class","p-4 border-b border-surface-700 flex items-center justify-between"),h(q,"class","text-sm font-semibold text-slate-400 mb-3"),h(V,"class","grid grid-cols-2 gap-2"),h(N,"class","text-sm text-slate-400 block mb-2"),h(G,"type","number"),h(G,"min","0"),h(G,"max",ee=l[1]?l[1].qubits-1:9),h(G,"class","input w-full"),h(g,"class","mt-4"),h(I,"class","w-48 bg-surface-800 border-r border-surface-700 p-4"),h(Y,"class","flex-1 p-4 overflow-auto"),h(E,"class","flex-1 flex overflow-hidden"),h(e,"class","flex-1 flex flex-col overflow-hidden")},m(k,O){L(k,e,O),n(e,t),n(t,s),n(t,r),n(t,i),n(i,u),n(u,f),n(u,w),n(u,c),ue(c,l[0]),n(i,m),n(i,o),n(o,C),n(i,D),H&&H.m(i,null),n(e,v),n(e,E),n(E,I),n(I,q),n(I,X),n(I,V);for(let j=0;j<U.length;j+=1)U[j]&&U[j].m(V,null);n(I,B),n(I,g),n(g,N),n(g,Z),n(g,G),ue(G,l[4]),n(I,te),Q&&Q.m(I,null),n(E,be),n(E,Y),z&&z.m(Y,null),n(Y,ie),F.m(Y,null),pe||(ke=[le(c,"input",l[12]),le(o,"click",l[8]),le(G,"input",l[14])],pe=!0)},p(k,[O]){if(O&1&&_e(c.value)!==k[0]&&ue(c,k[0]),O&32&&(o.disabled=k[5]),k[1]?H?H.p(k,O):(H=Ne(k),H.c(),H.m(i,null)):H&&(H.d(1),H=null),O&136){se=$(k[7]);let j;for(j=0;j<se.length;j+=1){const J=Ve(k,se,j);U[j]?U[j].p(J,O):(U[j]=Se(J),U[j].c(),U[j].m(V,null))}for(;j<U.length;j+=1)U[j].d(1);U.length=se.length}O&2&&ee!==(ee=k[1]?k[1].qubits-1:9)&&h(G,"max",ee),O&16&&_e(G.value)!==k[4]&&ue(G,k[4]),k[1]?Q?Q.p(k,O):(Q=Te(k),Q.c(),Q.m(I,null)):Q&&(Q.d(1),Q=null),k[6]?z?z.p(k,O):(z=Ae(k),z.c(),z.m(Y,ie)):z&&(z.d(1),z=null),ne===(ne=we(k))&&F?F.p(k,O):(F.d(1),F=ne(k),F&&(F.c(),F.m(Y,null)))},i:de,o:de,d(k){k&&_(e),H&&H.d(),ve(U,k),Q&&Q.d(),z&&z.d(),F.d(),pe=!1,Ue(ke)}}}let Ye=null;const Ge=(l,e)=>e[1]-l[1];function Ze(l,e,t){let s=3,a=null,r=null,i="h",u=0,f=!1,d=null;const w=[{id:"h",label:"H",color:"gate-h"},{id:"x",label:"X",color:"gate-x"},{id:"y",label:"Y",color:"gate-y"},{id:"z",label:"Z",color:"gate-z"},{id:"t",label:"T",color:"gate-t"},{id:"s",label:"S",color:"gate-s"},{id:"cnot",label:"CNOT",color:"gate-cnot"}];async function c(){t(5,f=!0),t(6,d=null);try{t(1,a=await he("create_circuit",{qubits:s,name:"my_circuit"})),t(2,r=null)}catch(q){t(6,d=String(q))}finally{t(5,f=!1)}}async function m(){if(a){t(5,f=!0),t(6,d=null);try{const q=i==="cnot"?[u,(u+1)%a.qubits]:[u];t(1,a=await he("add_gate",{circuitId:a.id,gateType:i,qubits:q,parameter:Ye}))}catch(q){t(6,d=String(q))}finally{t(5,f=!1)}}}async function o(q){if(a){t(5,f=!0),t(6,d=null);try{t(1,a=await he("remove_gate",{circuitId:a.id,gateIndex:q}))}catch(R){t(6,d=String(R))}finally{t(5,f=!1)}}}async function C(){if(a){t(5,f=!0),t(6,d=null);try{t(2,r=await he("simulate_circuit",{circuitId:a.id,shots:1e3}))}catch(q){t(6,d=String(q))}finally{t(5,f=!1)}}}function D(){s=_e(this.value),t(0,s)}const v=q=>t(3,i=q.id);function E(){u=_e(this.value),t(4,u)}return[s,a,r,i,u,f,d,w,c,m,o,C,D,v,E,q=>o(q)]}class $e extends Le{constructor(e){super(),He(this,e,Ze,Xe,Oe,{})}}export{$e as component};
